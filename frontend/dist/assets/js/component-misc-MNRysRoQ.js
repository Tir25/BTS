import{r as e,j as o,a as n,u as t,R as r}from"./vendor-react-BEY4Bh4-.js";import{l as i,e as s,d as l,s as a}from"./component-driver-DClzc_eh.js";import{m as c,A as m}from"./vendor-animations-DNZDkmUe.js";import{w as d}from"./service-realtime-hdO4xqQG.js";import{a as u}from"./service-auth-DEUayG_-.js";import{f as b,a as N,S as f}from"./service-misc-DhOikwKZ.js";import{m as x}from"./vendor-maps-DZo29UBg.js";import{S as h}from"./component-admin-Bdn0Aw2z.js";class g extends e.Component{state={hasError:!1,errorId:"",retryCount:0};static getDerivedStateFromError(e){return{hasError:!0,error:e,errorId:`error_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}}componentDidCatch(e,o){i(e,{service:"ui",operation:"component-error"},"high"),this.setState({errorInfo:o}),this.props.onError&&this.props.onError(e,o)}componentDidUpdate(e){e.resetKey!==this.props.resetKey&&this.state.hasError&&this.resetError()}resetError=()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0,errorId:"",retryCount:this.state.retryCount+1})};handleRetry=()=>{this.resetError()};handleReportError=()=>{const{error:e,errorInfo:o,errorId:n}=this.state;e&&alert("Thank you for reporting this error. We will investigate and fix it.")};handleGoHome=()=>{window.location.href="/"};render(){if(this.state.hasError){if(this.props.fallback)return this.props.fallback;const{error:e,errorInfo:n,errorId:t,retryCount:r}=this.state,i=!0,s=!1!==this.props.showDetails&&i;return o.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-red-100 flex items-center justify-center p-4",children:o.jsxDEV("div",{className:"max-w-2xl w-full mx-auto",children:o.jsxDEV("div",{className:"bg-white rounded-xl shadow-2xl p-8 border border-red-200",children:[o.jsxDEV("div",{className:"text-center mb-6",children:[o.jsxDEV("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsxDEV("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:132,columnNumber:21},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:126,columnNumber:19},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:125,columnNumber:17},this),o.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Oops! Something went wrong"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:140,columnNumber:17},this),o.jsxDEV("p",{className:"text-gray-600 mb-4",children:"We're sorry, but something unexpected happened. Our team has been notified."},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:143,columnNumber:17},this),t&&o.jsxDEV("p",{className:"text-sm text-gray-500 mb-4",children:["Error ID:"," ",o.jsxDEV("code",{className:"bg-gray-100 px-2 py-1 rounded",children:t},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:150,columnNumber:21},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:148,columnNumber:19},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:124,columnNumber:15},this),s&&e&&o.jsxDEV("details",{className:"mb-6 bg-gray-50 rounded-lg p-4",children:[o.jsxDEV("summary",{className:"cursor-pointer font-medium text-gray-700 mb-2",children:"Error Details (Development)"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:160,columnNumber:19},this),o.jsxDEV("div",{className:"space-y-3",children:[o.jsxDEV("div",{children:[o.jsxDEV("strong",{className:"text-red-600",children:"Message:"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:165,columnNumber:23},this),o.jsxDEV("pre",{className:"text-sm text-gray-800 mt-1 p-2 bg-white rounded border overflow-x-auto",children:e.message},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:166,columnNumber:23},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:164,columnNumber:21},this),e.stack&&o.jsxDEV("div",{children:[o.jsxDEV("strong",{className:"text-red-600",children:"Stack Trace:"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:172,columnNumber:25},this),o.jsxDEV("pre",{className:"text-xs text-gray-800 mt-1 p-2 bg-white rounded border overflow-x-auto max-h-32",children:e.stack},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:173,columnNumber:25},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:171,columnNumber:23},this),n?.componentStack&&o.jsxDEV("div",{children:[o.jsxDEV("strong",{className:"text-red-600",children:"Component Stack:"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:180,columnNumber:25},this),o.jsxDEV("pre",{className:"text-xs text-gray-800 mt-1 p-2 bg-white rounded border overflow-x-auto max-h-32",children:n.componentStack},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:183,columnNumber:25},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:179,columnNumber:23},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:163,columnNumber:19},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:159,columnNumber:17},this),o.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[o.jsxDEV("button",{onClick:this.handleRetry,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:"🔄 Try Again"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:194,columnNumber:17},this),o.jsxDEV("button",{onClick:this.handleGoHome,className:"flex-1 bg-gray-600 text-white py-3 px-6 rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition-colors",children:"🏠 Go Home"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:201,columnNumber:17},this),o.jsxDEV("button",{onClick:this.handleReportError,className:"flex-1 bg-red-600 text-white py-3 px-6 rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition-colors",children:"📧 Report Error"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:208,columnNumber:17},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:193,columnNumber:15},this),o.jsxDEV("div",{className:"mt-6 text-center",children:[o.jsxDEV("p",{className:"text-sm text-gray-500 mb-2",children:"If the problem persists, try:"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:218,columnNumber:17},this),o.jsxDEV("ul",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxDEV("li",{children:"• Refreshing the page"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:222,columnNumber:19},this),o.jsxDEV("li",{children:"• Clearing your browser cache"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:223,columnNumber:19},this),o.jsxDEV("li",{children:"• Checking your internet connection"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:224,columnNumber:19},this),o.jsxDEV("li",{children:"• Contacting support if the issue continues"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:225,columnNumber:19},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:221,columnNumber:17},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:217,columnNumber:15},this),r>0&&o.jsxDEV("div",{className:"mt-4 text-center",children:o.jsxDEV("p",{className:"text-xs text-gray-400",children:["Retry attempts: ",r]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:232,columnNumber:19},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:231,columnNumber:17},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:122,columnNumber:13},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:121,columnNumber:11},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ErrorBoundary.tsx",lineNumber:120,columnNumber:9},this)}return this.props.children}}const v=e.createContext(void 0),p=({children:t})=>{const[r,i]=e.useState("default"),{pathname:s}=n();e.useEffect(()=>{s.includes("login")||s.includes("admin-login")||s.includes("driver-login")?i("homepage-to-login"):s.includes("student")||s.includes("student-map")?i("homepage-to-map"):s.includes("dashboard")||s.includes("admin")||s.includes("driver-dashboard")?i("login-to-dashboard"):i("default")},[s]);return o.jsxDEV(v.Provider,{value:{currentTransition:r,setTransition:e=>{i(e)}},children:t},void 0,!1,{fileName:"C:/College Project/frontend/src/components/transitions/TransitionContext.tsx",lineNumber:59,columnNumber:5},void 0)},C=()=>{const o=e.useContext(v);if(!o)throw new Error("useTransition must be used within a TransitionProvider");return o},j=({children:e,isVisible:n})=>o.jsxDEV(c.div,{initial:{opacity:0,y:50},animate:{opacity:n?1:0,y:n?0:50},transition:{duration:.8,ease:"easeInOut"},className:"w-full h-full",children:e},void 0,!1,{fileName:"C:/College Project/frontend/src/components/transitions/HomepageToLoginTransition.tsx",lineNumber:13,columnNumber:5},void 0),D=({children:e,isVisible:n})=>o.jsxDEV(c.div,{initial:{opacity:0,scale:.8},animate:{opacity:n?1:0,scale:n?1:.8},transition:{duration:1.2,ease:"easeInOut"},className:"w-full h-full",children:o.jsxDEV(c.div,{initial:{opacity:0,y:100},animate:{opacity:n?1:0,y:n?0:100},transition:{duration:.8,delay:.3,ease:"easeOut"},className:"w-full h-full",children:e},void 0,!1,{fileName:"C:/College Project/frontend/src/components/transitions/HomepageToMapTransition.tsx",lineNumber:25,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/transitions/HomepageToMapTransition.tsx",lineNumber:13,columnNumber:5},void 0),y=({children:e,isVisible:n})=>o.jsxDEV(c.div,{initial:{opacity:0,scale:.9},animate:{opacity:n?1:0,scale:n?1:.9},transition:{duration:1,ease:"easeInOut"},className:"w-full h-full",children:o.jsxDEV(c.div,{initial:{opacity:0,y:50},animate:{opacity:n?1:0,y:n?0:50},transition:{duration:.8,delay:.2,ease:"easeOut"},className:"w-full h-full",children:e},void 0,!1,{fileName:"C:/College Project/frontend/src/components/transitions/LoginToDashboardTransition.tsx",lineNumber:25,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/transitions/LoginToDashboardTransition.tsx",lineNumber:13,columnNumber:5},void 0),E=({children:e})=>{const{currentTransition:n}=C();return o.jsxDEV(o.Fragment,{children:(()=>{switch(n){case"homepage-to-login":return o.jsxDEV(j,{isVisible:!0,children:e},void 0,!1,{fileName:"C:/College Project/frontend/src/components/transitions/GlobalTransitionWrapper.tsx",lineNumber:21,columnNumber:11},void 0);case"homepage-to-map":return o.jsxDEV(D,{isVisible:!0,children:e},void 0,!1,{fileName:"C:/College Project/frontend/src/components/transitions/GlobalTransitionWrapper.tsx",lineNumber:27,columnNumber:11},void 0);case"login-to-dashboard":return o.jsxDEV(y,{isVisible:!0,children:e},void 0,!1,{fileName:"C:/College Project/frontend/src/components/transitions/GlobalTransitionWrapper.tsx",lineNumber:33,columnNumber:11},void 0);default:return e}})()},void 0,!1,{fileName:"C:/College Project/frontend/src/components/transitions/GlobalTransitionWrapper.tsx",lineNumber:42,columnNumber:10},void 0)};class V extends e.Component{retryTimeoutId;maxRetries=3;constructor(e){super(e),this.state={hasError:!1,retryCount:0,isRetrying:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,o){const{onMapError:n,mapType:t="student"}=this.props;s.logError(e,{service:"map",operation:`${t}_map_rendering`},"high"),n&&n(e,o),this.setState({errorInfo:o}),this.scheduleMapRetry(e)}componentWillUnmount(){this.retryTimeoutId&&clearTimeout(this.retryTimeoutId)}scheduleMapRetry=e=>{const{retryCount:o}=this.state;if(["MapLibre","Leaflet","WebGL","Canvas","Map container","Invalid LatLng","Tile load error","NetworkError","Failed to fetch"].some(o=>e.message.includes(o))&&o<this.maxRetries){const e=Math.min(2e3*Math.pow(1.5,o),15e3);this.setState({isRetrying:!0}),this.retryTimeoutId=setTimeout(()=>{this.resetMapError()},e)}};resetMapError=()=>{this.retryTimeoutId&&clearTimeout(this.retryTimeoutId),this.setState({hasError:!1,error:void 0,errorInfo:void 0,retryCount:this.state.retryCount+1,isRetrying:!1})};render(){if(this.state.hasError){const{fallbackComponent:e,mapType:n="student"}=this.props,{error:t,retryCount:r,isRetrying:i}=this.state;return e||o.jsxDEV("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center p-4",children:o.jsxDEV("div",{className:"max-w-md w-full",children:o.jsxDEV("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[o.jsxDEV("div",{className:"text-5xl mb-4",children:"🗺️"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/MapErrorBoundary.tsx",lineNumber:123,columnNumber:15},this),o.jsxDEV("h2",{className:"text-xl font-bold text-orange-600 mb-3",children:"Map Loading Error"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/MapErrorBoundary.tsx",lineNumber:124,columnNumber:15},this),o.jsxDEV("p",{className:"text-gray-600 mb-4",children:["The ",n," map encountered an error while loading.",r>0&&` (Retry attempt ${r})`]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/MapErrorBoundary.tsx",lineNumber:127,columnNumber:15},this),i&&o.jsxDEV("div",{className:"mb-4",children:[o.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/MapErrorBoundary.tsx",lineNumber:134,columnNumber:19},this),o.jsxDEV("p",{className:"text-sm text-gray-500 mt-2",children:"Retrying..."},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/MapErrorBoundary.tsx",lineNumber:135,columnNumber:19},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/MapErrorBoundary.tsx",lineNumber:133,columnNumber:17},this),o.jsxDEV("div",{className:"space-y-3",children:[o.jsxDEV("button",{onClick:this.resetMapError,disabled:i,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"🔄 Reload Map"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/MapErrorBoundary.tsx",lineNumber:140,columnNumber:17},this),o.jsxDEV("button",{onClick:()=>window.location.reload(),className:"w-full bg-gray-600 text-white py-2 px-4 rounded-md hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors",children:"🔄 Refresh Page"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/MapErrorBoundary.tsx",lineNumber:148,columnNumber:17},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/MapErrorBoundary.tsx",lineNumber:139,columnNumber:15},this),t&&o.jsxDEV("details",{className:"text-left bg-gray-100 p-3 rounded-lg mt-4",children:[o.jsxDEV("summary",{className:"cursor-pointer font-medium text-gray-700 text-sm",children:"Error Details"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/MapErrorBoundary.tsx",lineNumber:158,columnNumber:19},this),o.jsxDEV("pre",{className:"text-xs text-red-600 mt-2 whitespace-pre-wrap break-words",children:t.toString()},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/MapErrorBoundary.tsx",lineNumber:161,columnNumber:19},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/MapErrorBoundary.tsx",lineNumber:157,columnNumber:17},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/MapErrorBoundary.tsx",lineNumber:122,columnNumber:13},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/MapErrorBoundary.tsx",lineNumber:121,columnNumber:11},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/MapErrorBoundary.tsx",lineNumber:120,columnNumber:9},this)}return this.props.children}}const P=({showOfflineMessage:n=!0,onNetworkChange:t})=>{const[r,s]=e.useState({isOnline:navigator.onLine}),[l,a]=e.useState(!1),[c,m]=e.useState(Date.now());if(e.useEffect(()=>{const e=()=>{const e=navigator.onLine,o={isOnline:e};if("connection"in navigator){const e=navigator.connection;e&&(o.effectiveType=e.effectiveType,o.downlink=e.downlink,o.rtt=e.rtt,o.saveData=e.saveData)}s(o),e?(m(Date.now()),a(!1),r.isOnline||i("Network connection restored",{service:"network",operation:"connection-restored"},"low")):(a(!0),r.isOnline&&i("Network connection lost",{service:"network",operation:"connection-lost"},"medium")),t&&t(e)};if(e(),window.addEventListener("online",e),window.addEventListener("offline",e),"connection"in navigator){const o=navigator.connection;o&&o.addEventListener("change",e)}return()=>{if(window.removeEventListener("online",e),window.removeEventListener("offline",e),"connection"in navigator){const o=navigator.connection;o&&o.removeEventListener("change",e)}}},[t,r.isOnline]),e.useEffect(()=>{if(l&&!r.isOnline){const e=setTimeout(()=>{a(!1)},5e3);return()=>clearTimeout(e)}},[l,r.isOnline]),r.isOnline&&!n)return null;if(!r.isOnline&&l){const e=Math.floor((Date.now()-c)/1e3);return o.jsxDEV("div",{className:"fixed top-0 left-0 right-0 z-50 bg-red-600 text-white px-4 py-3 shadow-lg",children:o.jsxDEV("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[o.jsxDEV("div",{className:"flex items-center space-x-3",children:[o.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192L5.636 18.364M12 2.25a9.75 9.75 0 100 19.5 9.75 9.75 0 000-19.5z"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/NetworkStatus.tsx",lineNumber:157,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/NetworkStatus.tsx",lineNumber:151,columnNumber:13},void 0),o.jsxDEV("div",{children:[o.jsxDEV("p",{className:"font-medium",children:"You're offline"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/NetworkStatus.tsx",lineNumber:165,columnNumber:15},void 0),o.jsxDEV("p",{className:"text-sm opacity-90",children:["Offline for ",e,"s • Some features may be limited"]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/NetworkStatus.tsx",lineNumber:166,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/NetworkStatus.tsx",lineNumber:164,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/NetworkStatus.tsx",lineNumber:150,columnNumber:11},void 0),o.jsxDEV("button",{onClick:()=>a(!1),className:"text-white hover:text-red-200 transition-colors",children:o.jsxDEV("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/NetworkStatus.tsx",lineNumber:181,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/NetworkStatus.tsx",lineNumber:175,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/NetworkStatus.tsx",lineNumber:171,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/NetworkStatus.tsx",lineNumber:149,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/NetworkStatus.tsx",lineNumber:148,columnNumber:7},void 0)}return r.isOnline&&n?o.jsxDEV("div",{className:"fixed top-4 right-4 z-40",children:o.jsxDEV("div",{className:"bg-green-500 text-white px-3 py-2 rounded-lg shadow-lg flex items-center space-x-2",children:[o.jsxDEV("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/NetworkStatus.tsx",lineNumber:199,columnNumber:11},void 0),o.jsxDEV("span",{className:"text-sm font-medium",children:"Online"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/NetworkStatus.tsx",lineNumber:200,columnNumber:11},void 0),r.effectiveType&&o.jsxDEV("span",{className:"text-xs opacity-75",children:["(",r.effectiveType,")"]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/NetworkStatus.tsx",lineNumber:202,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/NetworkStatus.tsx",lineNumber:198,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/NetworkStatus.tsx",lineNumber:197,columnNumber:7},void 0):null};class w{static instance;config;processingStats={totalProcessed:0,successful:0,failed:0,sanitized:0,fallbackUsed:0,anomaliesDetected:0};constructor(e){this.config={enableFallback:!0,enableSanitization:!0,enableAnomalyDetection:!0,maxRetries:3,retryDelay:1e3,...e}}static getInstance(e){return w.instance||(w.instance=new w(e)),w.instance}async processLocationData(e){this.processingStats.totalProcessed++;try{const o=this.config.enableSanitization?l.validateLocationData(e):this.basicValidation(e);if(o.success&&o.data){const e=await this.processValidData(o.data,o.sanitized||!1);if(e.success)return this.processingStats.successful++,o.sanitized&&this.processingStats.sanitized++,e}if(this.config.enableFallback){const n=await this.processFallbackData(e,o.errors||[]);if(n.success)return this.processingStats.fallbackUsed++,n}return this.processingStats.failed++,this.createFailureResult(o.errors||["Unknown validation error"])}catch(o){this.processingStats.failed++;const e=o instanceof Error?o.message:"Unknown processing error";return s.logError(new Error(`Validation middleware error: ${e}`),{service:"map",operation:"validation_middleware"},"high"),this.createFailureResult([`Processing error: ${e}`])}}async processValidData(e,o){const n=[];let t=1;if(this.config.enableAnomalyDetection){const o=await this.checkForAnomalies(e);o.success||(n.push(...o.warnings||[]),t*=.8,this.processingStats.anomaliesDetected++)}if(this.config.enableFallback){const o={busId:e.busId,driverId:e.driverId,latitude:e.latitude,longitude:e.longitude,timestamp:e.timestamp,speed:e.speed,heading:e.heading,eta:e.eta};b.cacheLocation(o)}return o&&(n.push("Data was sanitized during validation"),t*=.9),{success:!0,data:{busId:e.busId,driverId:e.driverId,latitude:e.latitude,longitude:e.longitude,timestamp:e.timestamp,speed:e.speed,heading:e.heading,eta:e.eta},warnings:n.length>0?n:void 0,metadata:{sanitized:o,usedFallback:!1,confidence:t,source:"primary"}}}async processFallbackData(e,o){try{const n=e.busId||"unknown",t=e.driverId||"unknown",r=b.getFallbackLocation(n,t);if(r){const e=b.toBusLocation(r);return{success:!0,data:e,fallback:e,warnings:["Using fallback data due to primary validation failure",`Primary errors: ${o.join(", ")}`],metadata:{sanitized:!1,usedFallback:!0,confidence:r.confidence,source:"fallback"}}}return this.createFailureResult(["Primary validation failed and no fallback data available",...o])}catch(n){const e=n instanceof Error?n.message:"Unknown fallback error";return this.createFailureResult(["Fallback processing failed",e,...o])}}basicValidation(e){const o=[];if(e.busId||o.push("Missing busId"),e.driverId||o.push("Missing driverId"),void 0!==e.latitude&&null!==e.latitude||o.push("Missing latitude"),void 0!==e.longitude&&null!==e.longitude||o.push("Missing longitude"),o.length>0)return{success:!1,errors:o};return{success:!0,data:{busId:String(e.busId),driverId:String(e.driverId),latitude:Number(e.latitude),longitude:Number(e.longitude),timestamp:e.timestamp||(new Date).toISOString(),speed:e.speed?Number(e.speed):void 0,heading:e.heading?Number(e.heading):void 0,eta:e.eta,nearStop:e.nearStop}}}async checkForAnomalies(e){const o=[];try{(e.latitude<-90||e.latitude>90)&&o.push("Latitude out of valid range"),(e.longitude<-180||e.longitude>180)&&o.push("Longitude out of valid range"),void 0!==e.speed&&(e.speed<0||e.speed>200)&&o.push("Speed out of reasonable range"),void 0!==e.heading&&(e.heading<0||e.heading>360)&&o.push("Heading out of valid range");const n=new Date(e.timestamp).getTime(),t=Date.now();return Math.abs(t-n)>36e5&&o.push("Timestamp is more than 1 hour from current time"),{success:0===o.length,warnings:o.length>0?o:void 0}}catch(n){return{success:!0}}}createFailureResult(e){return{success:!1,errors:e,metadata:{sanitized:!1,usedFallback:!1,confidence:0,source:"primary"}}}updateConfig(e){this.config={...this.config,...e}}getStats(){return{...this.processingStats}}resetStats(){this.processingStats={totalProcessed:0,successful:0,failed:0,sanitized:0,fallbackUsed:0,anomaliesDetected:0}}getConfig(){return{...this.config}}}const S=w.getInstance(),k=Object.freeze(Object.defineProperty({__proto__:null,default:()=>{const n=t(),{setTransition:i}=C(),[s,l]=e.useState(!1),[b,N]=e.useState(null),[f,x]=e.useState({email:"",password:""}),[h,g]=e.useState(null),[v,p]=e.useState(!1),[j,D]=e.useState(!1);e.useEffect(()=>{const e=()=>{D(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const y=r.useCallback(()=>{d.disconnect()},[]),E=r.useCallback(async e=>{try{await d.connectAs("driver");let o=0;const t=10;for(;!d.isConnected()&&o<t;)await new Promise(e=>setTimeout(e,1500)),o++;if(!d.isConnected())throw new Error("Failed to establish WebSocket connection. Please check your internet connection and try again.");if(d.socket?.on("connect",()=>{}),d.socket?.on("disconnect",()=>{}),d.socket?.on("error",e=>{g(e.message||"Socket error occurred")}),await new Promise(e=>setTimeout(e,500)),!d.isConnected())throw new Error("WebSocket connection failed to establish");const r=async e=>{try{const o={driver_id:e.driverId,bus_id:e.busId,bus_number:e.busInfo.bus_number,route_id:e.busInfo.route_id,route_name:e.busInfo.route_name,driver_name:e.busInfo.driver_name};if(!(await u.storeDriverBusAssignment(o)))return void g("Failed to store authentication data");l(!0),N(e.busInfo),i("login-to-dashboard"),n("/driver-dashboard")}catch(o){g("Failed to complete authentication")}},s=e=>{g("Authentication failed: "+(e.message||"Unknown error"))},a=setTimeout(()=>{g("Authentication timeout - please try again"),d.socket?.off("driver:authenticated",r),d.socket?.off("driver:authentication_failed",s)},6e4);if(!e)throw new Error("No authentication token available");d.authenticateAsDriver(e,{onSuccess:e=>{clearTimeout(a),r(e)},onFailure:e=>{clearTimeout(a),s(new Error("object"==typeof e&&null!==e&&"message"in e?String(e.message):"Authentication failed"))},onError:e=>{clearTimeout(a),g("Authentication error: "+("object"==typeof e&&null!==e&&"message"in e?String(e.message):"Unknown error"))}})}catch(o){g("Failed to authenticate with server")}},[n,g,l,N,i]);e.useEffect(()=>{const{data:{subscription:e}}=a.auth.onAuthStateChange(async(e,o)=>{"SIGNED_IN"===e&&o?await E(o.access_token):"SIGNED_OUT"===e&&(l(!1),N(null),y())});return()=>e.unsubscribe()},[E,y]);return s&&b?o.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:o.jsxDEV(c.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[o.jsxDEV("div",{className:"loading-spinner mx-auto mb-4"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:287,columnNumber:11},void 0),o.jsxDEV("h2",{className:"text-2xl font-bold text-white mb-2",children:"Authentication Successful!"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:288,columnNumber:11},void 0),o.jsxDEV("p",{className:"text-white/70",children:"Redirecting to dashboard..."},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:291,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:282,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:281,columnNumber:7},void 0):o.jsxDEV("div",{className:"relative min-h-screen overflow-hidden bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:[o.jsxDEV("div",{className:"relative z-10 flex items-center justify-center min-h-screen p-4",children:o.jsxDEV(c.div,{initial:{opacity:0,y:50,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.8,ease:[.4,0,.2,1]},className:"w-full max-w-md",children:o.jsxDEV(c.div,{whileHover:j?{}:{scale:1.02},whileTap:{scale:.98},className:"relative overflow-hidden rounded-3xl bg-white/10 backdrop-blur-2xl border border-white/20 shadow-2xl",children:[o.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 via-transparent to-white/5 hover:bg-opacity-100 transition-all duration-500"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:314,columnNumber:13},void 0),o.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-pink-500/10 hover:bg-opacity-100 transition-all duration-500 rounded-3xl"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:317,columnNumber:13},void 0),o.jsxDEV("div",{className:"relative z-10 p-8",children:[o.jsxDEV(c.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"text-center mb-8",children:[o.jsxDEV("div",{className:"text-6xl mb-4 animate-pulse icon-container",style:{display:"flex",justifyContent:"center",alignItems:"center",lineHeight:"1"},children:"🚌"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:328,columnNumber:17},void 0),o.jsxDEV("h1",{className:"text-3xl font-bold text-white mb-2",children:"Driver Login"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:339,columnNumber:17},void 0),o.jsxDEV("p",{className:"text-white/70",children:"Sign in to start tracking your bus"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:342,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:322,columnNumber:15},void 0),o.jsxDEV(m,{children:h&&o.jsxDEV(c.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"bg-red-500/20 backdrop-blur-sm border border-red-400/30 rounded-xl p-4 mb-6",children:o.jsxDEV("p",{className:"text-red-200 text-sm",children:h},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:356,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:350,columnNumber:19},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:348,columnNumber:15},void 0),o.jsxDEV(c.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},onSubmit:async e=>{e.preventDefault(),p(!0),g(null);try{const{data:e,error:o}=await a.auth.signInWithPassword({email:f.email,password:f.password});if(o)return void g(o.message);e.user&&e.session?(await E(e.session.access_token),x({email:"",password:""})):g("Login failed - no user data received")}catch(o){g("An unexpected error occurred during login")}finally{p(!1)}},className:"space-y-6",children:[o.jsxDEV(c.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},children:[o.jsxDEV("label",{htmlFor:"email",className:"block text-sm font-medium text-white/90 mb-2",children:"Email Address"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:375,columnNumber:19},void 0),o.jsxDEV("input",{id:"email",type:"email",required:!0,value:f.email,onChange:e=>x(o=>({...o,email:e.target.value})),className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-300",placeholder:"Enter your email"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:381,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:370,columnNumber:17},void 0),o.jsxDEV(c.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.6},children:[o.jsxDEV("label",{htmlFor:"password",className:"block text-sm font-medium text-white/90 mb-2",children:"Password"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:403,columnNumber:19},void 0),o.jsxDEV("input",{id:"password",type:"password",required:!0,value:f.password,onChange:e=>x(o=>({...o,password:e.target.value})),className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-300",placeholder:"Enter your password"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:409,columnNumber:19},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:398,columnNumber:17},void 0),o.jsxDEV(c.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},whileHover:j?{}:{scale:1.02,y:-2},whileTap:{scale:.98},type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white font-semibold py-3 px-6 rounded-xl transition-all duration-300 shadow-lg hover:shadow-xl hover:shadow-blue-500/25 disabled:bg-gray-600 disabled:cursor-not-allowed disabled:shadow-none",children:v?o.jsxDEV("div",{className:"flex items-center justify-center",children:[o.jsxDEV("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:438,columnNumber:23},void 0),"Signing In..."]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:437,columnNumber:21},void 0):"Sign In"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:426,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:362,columnNumber:15},void 0),o.jsxDEV(c.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.8},className:"mt-6 text-center",children:o.jsxDEV("p",{className:"text-sm text-white/60",children:"Please contact your administrator for login credentials"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:454,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:448,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:320,columnNumber:13},void 0),o.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent transform -translate-x-full hover:translate-x-full transition-transform duration-1000"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:461,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:308,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:301,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:300,columnNumber:7},void 0),o.jsxDEV("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(j?8:15)].map((e,n)=>o.jsxDEV(c.div,{className:"absolute w-1 h-1 sm:w-2 sm:h-2 bg-white/20 rounded-full",style:{left:100*Math.random()+"%",top:100*Math.random()+"%"},animate:{y:[0,-30,0],opacity:[0,1,0]},transition:{duration:3+2*Math.random(),repeat:1/0,delay:2*Math.random()}},n,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:469,columnNumber:11},void 0))},void 0,!1,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:467,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/DriverLogin.tsx",lineNumber:298,columnNumber:5},void 0)}},Symbol.toStringTag,{value:"Module"})),A=({children:e,className:n="",variant:t="default",hover:r=!0,glow:i=!1,onClick:s,delay:l=0})=>{const a=r?"hover:bg-white/15 hover:border-white/30 hover:-translate-y-1 hover:shadow-2xl":"",m=i?"hover:shadow-blue-500/20 hover:shadow-2xl":"",d=s?"cursor-pointer":"";return o.jsxDEV(c.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,delay:l,ease:[.4,0,.2,1]},whileHover:r?{y:-8,scale:1.02,transition:{duration:.3}}:{},whileTap:s?{scale:.98}:{},onClick:s,className:`\n        relative overflow-hidden rounded-2xl transition-all duration-500 layout-stable\n        ${{default:"bg-white/10 backdrop-blur-md border border-white/20 shadow-xl",premium:"bg-white/5 backdrop-blur-xl border border-white/10 shadow-2xl",ultra:"bg-white/5 backdrop-blur-2xl border border-white/10 shadow-2xl"}[t]}\n        ${a}\n        ${m}\n        ${d}\n        ${n}\n      `,children:[o.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 via-transparent to-white/5 opacity-0 hover:opacity-100 transition-opacity duration-500"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/ui/GlassyCard.tsx",lineNumber:68,columnNumber:7},void 0),i&&o.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 via-purple-500/10 to-pink-500/10 opacity-0 hover:opacity-100 transition-opacity duration-500 rounded-2xl"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/ui/GlassyCard.tsx",lineNumber:72,columnNumber:9},void 0),o.jsxDEV("div",{className:"relative z-10 p-6 space-stable",children:e},void 0,!1,{fileName:"C:/College Project/frontend/src/components/ui/GlassyCard.tsx",lineNumber:76,columnNumber:7},void 0),o.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full hover:translate-x-full transition-transform duration-1000"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/ui/GlassyCard.tsx",lineNumber:79,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/ui/GlassyCard.tsx",lineNumber:39,columnNumber:5},void 0)},M=({isConnected:n,isConnecting:t,onRetry:r,onRefresh:i,connectionType:s="location-updates",showOfflineMessage:l=!0,className:a=""})=>{const[c,m]=e.useState(0),[d,u]=e.useState(null),[b,N]=e.useState(!1);e.useEffect(()=>{n&&c>0&&(m(0),u(null))},[n,c]);const f=()=>{m(e=>e+1),u(Date.now()),r()},x=()=>{switch(s){case"location-updates":return"Real-time Location Updates";case"driver-auth":return"Driver Authentication";case"admin-updates":return"Admin System Updates";default:return"WebSocket Connection"}};return n&&!l?null:o.jsxDEV("div",{className:`w-full ${a}`,children:[o.jsxDEV("div",{className:`border-l-4 ${t?"bg-yellow-50 border-yellow-200":n?"bg-green-50 border-green-200":"bg-red-50 border-red-200"} p-4 mb-4`,children:[o.jsxDEV("div",{className:"flex items-center justify-between",children:[o.jsxDEV("div",{className:"flex items-center space-x-3",children:[o.jsxDEV("span",{className:"text-2xl",children:t?"🔄":n?"✅":"❌"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:87,columnNumber:13},void 0),o.jsxDEV("div",{children:[o.jsxDEV("h3",{className:"font-medium "+(t?"text-yellow-600":n?"text-green-600":"text-red-600"),children:t?"Connecting...":n?"Connected":"Disconnected"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:89,columnNumber:15},void 0),o.jsxDEV("p",{className:"text-sm text-gray-600",children:x()},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:92,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:88,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:86,columnNumber:11},void 0),!n&&o.jsxDEV("div",{className:"flex space-x-2",children:[o.jsxDEV("button",{onClick:f,disabled:t,className:"text-sm bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Connecting...":"Retry"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:100,columnNumber:15},void 0),o.jsxDEV("button",{onClick:()=>N(!b),className:"text-sm bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors",children:b?"Hide":"Details"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:108,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:99,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:85,columnNumber:9},void 0),c>0&&o.jsxDEV("div",{className:"mt-3 text-sm text-gray-600",children:o.jsxDEV("p",{children:["Retry attempts: ",c,d&&o.jsxDEV("span",{className:"ml-2",children:["(Last attempt: ",new Date(d).toLocaleTimeString(),")"]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:124,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:121,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:120,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:84,columnNumber:7},void 0),b&&!n&&o.jsxDEV("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:[o.jsxDEV("h4",{className:"font-medium text-gray-800 mb-3",children:"Connection Details"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:136,columnNumber:11},void 0),o.jsxDEV("div",{className:"space-y-2 text-sm",children:[o.jsxDEV("div",{className:"flex justify-between",children:[o.jsxDEV("span",{className:"text-gray-600",children:"Status:"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:140,columnNumber:15},void 0),o.jsxDEV("span",{className:"text-red-600 font-medium",children:"Disconnected"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:141,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:139,columnNumber:13},void 0),o.jsxDEV("div",{className:"flex justify-between",children:[o.jsxDEV("span",{className:"text-gray-600",children:"Service:"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:145,columnNumber:15},void 0),o.jsxDEV("span",{className:"text-gray-800",children:x()},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:146,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:144,columnNumber:13},void 0),o.jsxDEV("div",{className:"flex justify-between",children:[o.jsxDEV("span",{className:"text-gray-600",children:"Retry Count:"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:150,columnNumber:15},void 0),o.jsxDEV("span",{className:"text-gray-800",children:c},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:151,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:149,columnNumber:13},void 0),o.jsxDEV("div",{className:"flex justify-between",children:[o.jsxDEV("span",{className:"text-gray-600",children:"Last Check:"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:155,columnNumber:15},void 0),o.jsxDEV("span",{className:"text-gray-800",children:(new Date).toLocaleTimeString()},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:156,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:154,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:138,columnNumber:11},void 0),o.jsxDEV("div",{className:"mt-4 space-y-2",children:[o.jsxDEV("h5",{className:"font-medium text-gray-800",children:"Troubleshooting Steps:"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:161,columnNumber:13},void 0),o.jsxDEV("ul",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxDEV("li",{children:"• Check your internet connection"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:163,columnNumber:15},void 0),o.jsxDEV("li",{children:"• Try refreshing the page"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:164,columnNumber:15},void 0),o.jsxDEV("li",{children:"• Clear browser cache and cookies"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:165,columnNumber:15},void 0),o.jsxDEV("li",{children:"• Disable browser extensions temporarily"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:166,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:162,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:160,columnNumber:11},void 0),o.jsxDEV("div",{className:"mt-4 flex space-x-2",children:[o.jsxDEV("button",{onClick:f,disabled:t,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Connecting...":"Retry Connection"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:171,columnNumber:13},void 0),o.jsxDEV("button",{onClick:i,className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors",children:"Refresh Page"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:179,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:170,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:135,columnNumber:9},void 0),!n&&l&&o.jsxDEV("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:o.jsxDEV("div",{className:"flex items-start space-x-3",children:[o.jsxDEV("span",{className:"text-2xl",children:"⚠️"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:193,columnNumber:13},void 0),o.jsxDEV("div",{children:[o.jsxDEV("h4",{className:"font-medium text-orange-800 mb-2",children:"Limited Functionality"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:195,columnNumber:15},void 0),o.jsxDEV("p",{className:"text-sm text-orange-700",children:"Real-time updates are currently unavailable. You can still view static information, but live location tracking and real-time notifications are not working."},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:198,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:194,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:192,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:191,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/WebSocketFallback.tsx",lineNumber:82,columnNumber:5},void 0)},L=({isConnected:n,isConnecting:t,onRetry:r,connectionType:i="location-updates",showOfflineMessage:s=!0,className:l="",compact:a=!1})=>{const[c,m]=e.useState(null),[d,u]=e.useState(0);e.useEffect(()=>{n&&!c?m(Date.now()):!n&&c&&(m(null),u(0))},[n,c]),e.useEffect(()=>{let e;return n&&c&&(e=setInterval(()=>{u(Date.now()-c)},1e3)),()=>{e&&clearInterval(e)}},[n,c]);const b=e=>{const o=Math.floor(e/1e3),n=Math.floor(o/60),t=Math.floor(n/60);return t>0?`${t}h ${n%60}m`:n>0?`${n}m ${o%60}s`:`${o}s`};return a?o.jsxDEV("div",{className:`flex items-center space-x-2 ${l}`,children:[o.jsxDEV("span",{className:"text-lg",children:t?"🔄":n?"🟢":"🔴"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ConnectionStatus.tsx",lineNumber:86,columnNumber:9},void 0),o.jsxDEV("span",{className:"text-sm font-medium "+(t?"text-yellow-600":n?"text-green-600":"text-red-600"),children:t?"Connecting...":n?"Connected":"Disconnected"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ConnectionStatus.tsx",lineNumber:87,columnNumber:9},void 0),n&&d>0&&o.jsxDEV("span",{className:"text-xs text-gray-500",children:["(",b(d),")"]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/ConnectionStatus.tsx",lineNumber:91,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/error/ConnectionStatus.tsx",lineNumber:85,columnNumber:7},void 0):o.jsxDEV(M,{isConnected:n,isConnecting:t,onRetry:r,onRefresh:()=>window.location.reload(),connectionType:i,showOfflineMessage:s,className:l},void 0,!1,{fileName:"C:/College Project/frontend/src/components/error/ConnectionStatus.tsx",lineNumber:100,columnNumber:5},void 0)},F=({showDetails:n=!1,compact:t=!1,className:r=""})=>{const[i,s]=e.useState(S.getStats()),[a,c]=e.useState(l.getCacheStats()),[m,d]=e.useState(b.getStats()),[u,N]=e.useState(!1);e.useEffect(()=>{const e=setInterval(()=>{s(S.getStats()),c(l.getCacheStats()),d(b.getStats())},5e3);return()=>clearInterval(e)},[]);const f=i.totalProcessed>0?Math.round(i.successful/i.totalProcessed*100):0,x=i.totalProcessed>0?Math.round(i.sanitized/i.totalProcessed*100):0,h=i.totalProcessed>0?Math.round(i.fallbackUsed/i.totalProcessed*100):0;return t?o.jsxDEV("div",{className:`flex items-center space-x-2 text-xs ${r}`,children:[o.jsxDEV("div",{className:"w-2 h-2 rounded-full "+(f>=95?"bg-green-500":f>=80?"bg-yellow-500":"bg-red-500")},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:52,columnNumber:9},void 0),o.jsxDEV("span",{className:"text-gray-600",children:["Validation: ",f,"% success"]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:56,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:51,columnNumber:7},void 0):o.jsxDEV("div",{className:`bg-white rounded-lg shadow-sm border border-gray-200 p-4 ${r}`,children:[o.jsxDEV("div",{className:"flex items-center justify-between mb-3",children:[o.jsxDEV("h3",{className:"text-sm font-semibold text-gray-800 flex items-center",children:[o.jsxDEV("span",{className:"mr-2",children:"🛡️"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:67,columnNumber:11},void 0),"Data Validation Status"]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:66,columnNumber:9},void 0),n&&o.jsxDEV("button",{onClick:()=>N(!u),className:"text-xs text-blue-600 hover:text-blue-800",children:u?"Hide Details":"Show Details"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:71,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:65,columnNumber:7},void 0),o.jsxDEV("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[o.jsxDEV("div",{className:"text-center",children:[o.jsxDEV("div",{className:"text-2xl font-bold "+(f>=95?"text-green-600":f>=80?"text-yellow-600":"text-red-600"),children:[f,"%"]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:83,columnNumber:11},void 0),o.jsxDEV("div",{className:"text-xs text-gray-600",children:"Success Rate"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:89,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:82,columnNumber:9},void 0),o.jsxDEV("div",{className:"text-center",children:[o.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:i.totalProcessed},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:92,columnNumber:11},void 0),o.jsxDEV("div",{className:"text-xs text-gray-600",children:"Total Processed"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:95,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:91,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:81,columnNumber:7},void 0),o.jsxDEV("div",{className:"space-y-2 mb-3",children:[o.jsxDEV("div",{children:[o.jsxDEV("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[o.jsxDEV("span",{children:"Successful"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:103,columnNumber:13},void 0),o.jsxDEV("span",{children:i.successful},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:104,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:102,columnNumber:11},void 0),o.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsxDEV("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${f}%`}},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:107,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:106,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:101,columnNumber:9},void 0),o.jsxDEV("div",{children:[o.jsxDEV("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[o.jsxDEV("span",{children:"Sanitized"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:116,columnNumber:13},void 0),o.jsxDEV("span",{children:i.sanitized},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:117,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:115,columnNumber:11},void 0),o.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsxDEV("div",{className:"bg-yellow-500 h-2 rounded-full transition-all duration-300",style:{width:`${x}%`}},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:120,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:119,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:114,columnNumber:9},void 0),o.jsxDEV("div",{children:[o.jsxDEV("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[o.jsxDEV("span",{children:"Fallback Used"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:129,columnNumber:13},void 0),o.jsxDEV("span",{children:i.fallbackUsed},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:130,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:128,columnNumber:11},void 0),o.jsxDEV("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsxDEV("div",{className:"bg-orange-500 h-2 rounded-full transition-all duration-300",style:{width:`${h}%`}},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:133,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:132,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:127,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:100,columnNumber:7},void 0),n&&u&&o.jsxDEV("div",{className:"border-t border-gray-200 pt-3 mt-3",children:[o.jsxDEV("div",{className:"grid grid-cols-2 gap-4 text-xs",children:[o.jsxDEV("div",{children:[o.jsxDEV("div",{className:"font-medium text-gray-700 mb-1",children:"Processing Stats"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:146,columnNumber:15},void 0),o.jsxDEV("div",{className:"space-y-1 text-gray-600",children:[o.jsxDEV("div",{children:["Failed: ",i.failed]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:148,columnNumber:17},void 0),o.jsxDEV("div",{children:["Anomalies: ",i.anomaliesDetected]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:149,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:147,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:145,columnNumber:13},void 0),o.jsxDEV("div",{children:[o.jsxDEV("div",{className:"font-medium text-gray-700 mb-1",children:"Cache Stats"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:153,columnNumber:15},void 0),o.jsxDEV("div",{className:"space-y-1 text-gray-600",children:[o.jsxDEV("div",{children:["Cache Size: ",a.size]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:155,columnNumber:17},void 0),o.jsxDEV("div",{children:["Max Age: ",Math.round(a.maxAge/1e3),"s"]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:156,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:154,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:152,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:144,columnNumber:11},void 0),o.jsxDEV("div",{className:"mt-3",children:[o.jsxDEV("div",{className:"font-medium text-gray-700 mb-1 text-xs",children:"Fallback Data"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:162,columnNumber:13},void 0),o.jsxDEV("div",{className:"grid grid-cols-2 gap-2 text-xs text-gray-600",children:[o.jsxDEV("div",{children:["Cached: ",m.cacheSize]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:164,columnNumber:15},void 0),o.jsxDEV("div",{children:["Last Known: ",m.lastKnownSize]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:165,columnNumber:15},void 0),o.jsxDEV("div",{children:["Route Estimates: ",m.routeEstimatesSize]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:166,columnNumber:15},void 0),o.jsxDEV("div",{children:["Defaults: ",m.defaultLocationsSize]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:167,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:163,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:161,columnNumber:11},void 0),o.jsxDEV("div",{className:"mt-3 flex space-x-2",children:[o.jsxDEV("button",{onClick:()=>{S.resetStats(),l.clearCache(),s(S.getStats()),c(l.getCacheStats())},className:"text-xs bg-gray-100 hover:bg-gray-200 px-2 py-1 rounded transition-colors",children:"Reset Stats"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:172,columnNumber:13},void 0),o.jsxDEV("button",{onClick:()=>{b.cleanupExpiredData(),d(b.getStats())},className:"text-xs bg-gray-100 hover:bg-gray-200 px-2 py-1 rounded transition-colors",children:"Cleanup Cache"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:183,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:171,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:143,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex items-center justify-center mt-3 pt-3 border-t border-gray-200",children:o.jsxDEV("div",{className:"flex items-center space-x-2 text-xs "+(f>=95?"text-green-600":f>=80?"text-yellow-600":"text-red-600"),children:[o.jsxDEV("div",{className:"w-2 h-2 rounded-full "+(f>=95?"bg-green-500":f>=80?"bg-yellow-500":"bg-red-500")},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:202,columnNumber:11},void 0),o.jsxDEV("span",{children:f>=95?"Excellent":f>=80?"Good":"Needs Attention"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:206,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:198,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:197,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/validation/ValidationStatus.tsx",lineNumber:64,columnNumber:5},void 0)};function B(){const[n,t]=e.useState("bus"),[r,i]=e.useState([]),[s,l]=e.useState([]),[a,c]=e.useState([]),[m,d]=e.useState(!0),[u,b]=e.useState(!1),[x,h]=e.useState(null),[g,v]=e.useState(""),[p,C]=e.useState(null),[j,D]=e.useState(null);e.useEffect(()=>{y()},[]);const y=async()=>{d(!0),C(null);try{const[e,o,n]=await Promise.all([N.getAllBuses(),N.getAllDrivers(),N.getAllRoutes()]);if(e.success&&e.data&&i(e.data),o.success&&o.data){const e=new Map;o.data.forEach(o=>{const n=o.id;if(e.has(n)){const t=e.get(n);(!t.email&&o.email||t.email&&o.email&&!t.first_name&&o.first_name)&&e.set(n,o)}else e.set(n,o)});const n=Array.from(e.values());l(n)}n.success&&n.data&&c(n.data)}catch(e){C("Failed to load data")}finally{d(!1)}},E=()=>{switch(n){case"bus":return r;case"driver":return s;case"route":return a;default:return[]}},V=e=>{switch(n){case"bus":return e.number_plate;case"driver":{const o=e;return`${o.first_name} ${o.last_name}`}case"route":return e.name;default:return"Unknown"}},P=()=>{switch(n){case"bus":return"Bus Images";case"driver":return"Driver Photos";case"route":return"Route Maps";default:return"Media"}};return m?o.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxDEV("div",{className:"text-center",children:[o.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:272,columnNumber:11},this),o.jsxDEV("p",{className:"mt-4 text-gray-600",children:"Loading media management..."},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:273,columnNumber:11},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:271,columnNumber:9},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:270,columnNumber:7},this):o.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:o.jsxDEV("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:o.jsxDEV("div",{className:"px-4 py-6 sm:px-0",children:o.jsxDEV("div",{className:"bg-white rounded-lg shadow p-6",children:[o.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Media Management"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:285,columnNumber:13},this),p&&o.jsxDEV("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-md p-4",children:o.jsxDEV("p",{className:"text-red-700",children:p},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:292,columnNumber:17},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:291,columnNumber:15},this),j&&o.jsxDEV("div",{className:"mb-4 bg-green-50 border border-green-200 rounded-md p-4",children:o.jsxDEV("p",{className:"text-green-700",children:j},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:298,columnNumber:17},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:297,columnNumber:15},this),o.jsxDEV("div",{className:"border-b border-gray-200 mb-6",children:o.jsxDEV("nav",{className:"-mb-px flex space-x-8",children:[{id:"bus",name:"Bus Images"},{id:"driver",name:"Driver Photos"},{id:"route",name:"Route Maps"}].map(e=>o.jsxDEV("button",{onClick:()=>t(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm "+(n===e.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.name},e.id,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:310,columnNumber:19},this))},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:304,columnNumber:15},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:303,columnNumber:13},this),o.jsxDEV("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[o.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Upload ",P()]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:329,columnNumber:15},this),o.jsxDEV("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-3",children:[o.jsxDEV("div",{children:[o.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select File"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:336,columnNumber:19},this),o.jsxDEV("input",{type:"file",onChange:e=>{const o=e.target.files?.[0];o&&(h(o),C(null))},accept:"route"===n?".pdf,.jpg,.jpeg,.png":".jpg,.jpeg,.png,.webp",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-purple-50 file:text-purple-700 hover:file:bg-purple-100"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:339,columnNumber:19},this),x&&o.jsxDEV("p",{className:"mt-1 text-sm text-gray-500",children:["Selected: ",x.name," (",(x.size/1024/1024).toFixed(2)," MB)"]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:350,columnNumber:21},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:335,columnNumber:17},this),o.jsxDEV("div",{children:[o.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Select"," ","bus"===n?"Bus":"driver"===n?"Driver":"Route"]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:359,columnNumber:19},this),o.jsxDEV("select",{value:g,onChange:e=>v(e.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500",children:[o.jsxDEV("option",{value:"",children:"Choose..."},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:372,columnNumber:21},this),E().map(e=>o.jsxDEV("option",{value:e.id||"",children:V(e)},e.id||"temp",!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:374,columnNumber:23},this))]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:367,columnNumber:19},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:358,columnNumber:17},this),o.jsxDEV("div",{className:"flex items-end",children:o.jsxDEV("button",{onClick:async()=>{if(x&&g){b(!0),C(null),D(null);try{let e;switch(n){case"bus":e=await f.uploadBusImage(g,x);break;case"driver":e=await f.uploadDriverPhoto(g,x);break;case"route":e=await f.uploadRouteMap(g,x)}e.success?(D("File uploaded successfully!"),h(null),v(""),y()):C(e.error||"Upload failed")}catch(e){C("Upload failed. Please try again.")}finally{b(!1)}}else C("Please select a file and an item")},disabled:!x||!g||u,className:"w-full bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:u?"Uploading...":"Upload"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:383,columnNumber:19},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:382,columnNumber:17},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:333,columnNumber:15},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:328,columnNumber:13},this),o.jsxDEV("div",{children:[o.jsxDEV("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Current ",P()]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:396,columnNumber:15},this),0===E().length?o.jsxDEV("p",{className:"text-gray-500 text-center py-8",children:"No items found."},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:401,columnNumber:17},this):o.jsxDEV("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:E().map(e=>{const t=(e=>{let o=null;switch(n){case"bus":o=e.bus_image_url||null;break;case"driver":o=e.profile_photo_url||null;break;case"route":o=e.route_map_url||null;break;default:return null}if(!o)return null;if(o.startsWith("http"))return o;if(o.includes("/"))return`https://gthwmwfwvhyriygpcdlr.supabase.co/storage/v1/object/public/bus-tracking-media/${o}`;return o})(e),r=V(e);return o.jsxDEV("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsxDEV("h4",{className:"font-medium text-gray-900 mb-2",children:r},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:414,columnNumber:25},this),t?o.jsxDEV("div",{children:[o.jsxDEV("div",{className:"mb-3",children:"route"!==n?o.jsxDEV("img",{src:t,alt:r,className:"w-full h-32 object-cover rounded-md",onError:e=>{e.currentTarget.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2YzZjRmNiIvPjx0ZXh0IHg9IjEwMCIgeT0iMTAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTQiIGZpbGw9IiM5Y2EzYWYiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj5JbWFnZSBVbmF2YWlsYWJsZTwvdGV4dD48L3N2Zz4="}},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:422,columnNumber:33},this):o.jsxDEV("div",{className:"w-full h-32 bg-gray-100 rounded-md flex items-center justify-center",children:o.jsxDEV("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:439,columnNumber:37},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:433,columnNumber:35},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:432,columnNumber:33},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:420,columnNumber:29},this),o.jsxDEV("div",{className:"flex space-x-2",children:[o.jsxDEV("button",{onClick:()=>window.open(t,"_blank"),className:"flex-1 bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"View"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:451,columnNumber:31},this),o.jsxDEV("button",{onClick:()=>e.id&&(async(e,o)=>{if(confirm("Are you sure you want to delete this file?"))try{const t=await f.deleteFile(n,e,o);t.success?(D("File deleted successfully!"),y()):C(t.error||"Delete failed")}catch(t){C("Delete failed. Please try again.")}})(e.id,t),className:"flex-1 bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors",disabled:!e.id,children:"Delete"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:457,columnNumber:31},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:450,columnNumber:29},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:419,columnNumber:27},this):o.jsxDEV("div",{className:"text-center py-4",children:[o.jsxDEV("p",{className:"text-gray-500 text-sm mb-2",children:"No file uploaded"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:470,columnNumber:29},this),o.jsxDEV("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-2",children:o.jsxDEV("svg",{className:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:480,columnNumber:33},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:474,columnNumber:31},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:473,columnNumber:29},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:469,columnNumber:27},this)]},e.id||"temp",!0,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:410,columnNumber:23},this)})},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:405,columnNumber:17},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:395,columnNumber:13},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:284,columnNumber:11},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:283,columnNumber:9},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:281,columnNumber:7},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MediaManagement.tsx",lineNumber:280,columnNumber:5},this)}const I={name:"Ganpat University",coordinates:[72.4563,23.5295],address:"Ganpat Vidyanagar, Mehsana-Gozaria Highway, Kherva, Gujarat 384012",city:"Mehsana"},T=({onLocationSelect:n,onClose:t,title:i,defaultCenter:s=I.coordinates,searchPlaceholder:l="Search for a location..."})=>{r.useRef(Math.random().toString(36).substr(2,9));const a=e.useRef(null),c=e.useRef(null),m=e.useRef(null),[d,u]=e.useState(""),[b,N]=e.useState(null),[f,h]=e.useState(!0),[g,v]=e.useState(null);e.useEffect(()=>{if(a.current&&!c.current)return c.current=new x.Map({container:a.current,style:{version:8,sources:{osm:{type:"raster",tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256,attribution:"© OpenStreetMap contributors"}},layers:[{id:"osm-tiles",type:"raster",source:"osm",minzoom:0,maxzoom:22}]},center:I.coordinates,zoom:12,preserveDrawingBuffer:!0,antialias:!1,maxZoom:18,minZoom:5,maxPitch:0,pitch:0}),c.current.on("load",()=>{try{c.current?.addControl(new x.NavigationControl),m.current=new x.Marker({draggable:!0,color:"#3B82F6"}).setLngLat(s).addTo(c.current),c.current.flyTo({center:I.coordinates,zoom:12,duration:1e3}),N({name:I.name,coordinates:I.coordinates,address:I.address}),m.current.on("dragend",()=>{const e=m.current?.getLngLat();e&&p([e.lng,e.lat])}),h(!1)}catch(e){v("Failed to initialize map"),h(!1)}}),c.current.on("error",e=>{v("Map failed to load"),h(!1)}),c.current.on("click",e=>{const o=[e.lngLat.lng,e.lngLat.lat];m.current?.setLngLat(o),p(o)}),c.current.on("webglcontextlost",()=>{}),c.current.on("webglcontextrestored",()=>{}),()=>{if(c.current)try{c.current.off("load",()=>{}),c.current.off("click",()=>{}),c.current.off("error",()=>{}),c.current.off("webglcontextlost",()=>{}),c.current.off("webglcontextrestored",()=>{}),m.current&&m.current.remove(),c.current.remove()}catch(e){}finally{c.current=null,m.current=null}}},[s]);const p=async e=>{try{const o=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${e[1]}&lon=${e[0]}&zoom=18&addressdetails=1`),n=await o.json(),t={name:n.display_name.split(",")[0]||"Selected Location",coordinates:e,address:n.display_name};N(t)}catch(o){N({name:"Selected Location",coordinates:e,address:`${e[1]}, ${e[0]}`})}},C=async()=>{if(d.trim()&&c.current)try{const e=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(d)}&limit=5&countrycodes=in`),o=await e.json();if(o.length>0){const e=o[0],n=[parseFloat(e.lon),parseFloat(e.lat)];c.current.flyTo({center:n,zoom:15}),m.current?.setLngLat(n);const t={name:e.display_name.split(",")[0]||d,coordinates:n,address:e.display_name};N(t)}}catch(e){}};return o.jsxDEV("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:o.jsxDEV("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[80vh] flex flex-col",children:[o.jsxDEV("div",{className:"flex items-center justify-between p-4 border-b",children:[o.jsxDEV("h2",{className:"text-xl font-semibold text-gray-800",children:i},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:273,columnNumber:11},void 0),o.jsxDEV("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:o.jsxDEV("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:284,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:278,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:274,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:272,columnNumber:9},void 0),o.jsxDEV("div",{className:"p-4 border-b",children:[o.jsxDEV("div",{className:"flex gap-2 mb-2",children:[o.jsxDEV("input",{type:"text",value:d,onChange:e=>u(e.target.value),onKeyPress:e=>{"Enter"===e.key&&C()},placeholder:l,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:297,columnNumber:13},void 0),o.jsxDEV("button",{onClick:C,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Search"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:305,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:296,columnNumber:11},void 0),o.jsxDEV("div",{className:"flex gap-2",children:o.jsxDEV("button",{onClick:()=>{c.current&&(c.current.flyTo({center:I.coordinates,zoom:12}),m.current?.setLngLat(I.coordinates),N({name:I.name,coordinates:I.coordinates,address:I.address}))},className:"px-3 py-1 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:"🏫 Reset to Ganpat University"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:313,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:312,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:295,columnNumber:9},void 0),o.jsxDEV("div",{className:"flex-1 relative",children:[f&&o.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100 z-10",children:o.jsxDEV("div",{className:"text-center",children:[o.jsxDEV("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-2"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:344,columnNumber:17},void 0),o.jsxDEV("p",{className:"text-gray-600",children:"Loading map..."},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:345,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:343,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:342,columnNumber:13},void 0),g&&o.jsxDEV("div",{className:"absolute inset-0 flex items-center justify-center bg-red-50 z-10",children:o.jsxDEV("div",{className:"text-center",children:[o.jsxDEV("p",{className:"text-red-600 mb-2",children:["⚠️ ",g]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:353,columnNumber:17},void 0),o.jsxDEV("button",{onClick:()=>{v(null),h(!0),c.current&&(c.current.remove(),c.current=null,m.current=null);const e=a.current;e&&(e.innerHTML="")},className:"px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Retry"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:354,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:352,columnNumber:15},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:351,columnNumber:13},void 0),o.jsxDEV("div",{ref:a,className:"w-full h-full"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:378,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:340,columnNumber:9},void 0),b&&o.jsxDEV("div",{className:"p-4 border-t bg-gray-50",children:[o.jsxDEV("div",{className:"mb-4",children:[o.jsxDEV("h3",{className:"font-semibold text-gray-800 mb-2",children:"Selected Location:"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:385,columnNumber:15},void 0),o.jsxDEV("p",{className:"text-gray-700 font-medium",children:b.name},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:388,columnNumber:15},void 0),b.address&&o.jsxDEV("p",{className:"text-sm text-gray-600 mt-1",children:b.address},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:392,columnNumber:17},void 0),o.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:["Coordinates: ",b.coordinates[1].toFixed(6),","," ",b.coordinates[0].toFixed(6)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:396,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:384,columnNumber:13},void 0),o.jsxDEV("div",{className:"flex gap-2",children:[o.jsxDEV("button",{onClick:()=>{b&&(n(b),t())},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500",children:"Confirm Selection"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:403,columnNumber:15},void 0),o.jsxDEV("button",{onClick:t,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:409,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:402,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:383,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:270,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/MapSelector.tsx",lineNumber:269,columnNumber:5},void 0)};const R=Object.freeze(Object.defineProperty({__proto__:null,default:function(){const[n,t]=e.useState(null),[r,i]=e.useState(null),[s,l]=e.useState(!0),[a,c]=e.useState(null),[m,d]=e.useState("overview");e.useEffect(()=>{b()},[]);const b=async()=>{l(!0),c(null);try{const[e,o]=await Promise.all([N.getAnalytics(),N.getSystemHealth()]);e.success&&e.data&&t(e.data),o.success&&o.data&&i(o.data),e.success&&o.success||c("Failed to load dashboard data")}catch(e){c("An error occurred while loading dashboard data")}finally{l(!1)}},f=u.getCurrentProfile();return s?o.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:o.jsxDEV("div",{className:"text-center",children:[o.jsxDEV("div",{className:"loading-spinner mx-auto"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:87,columnNumber:11},this),o.jsxDEV("p",{className:"mt-4 text-white/70",children:"Loading admin dashboard..."},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:88,columnNumber:11},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:86,columnNumber:9},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:85,columnNumber:7},this):a?o.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 flex items-center justify-center",children:o.jsxDEV("div",{className:"text-center",children:o.jsxDEV("div",{className:"card-glass p-8",children:[o.jsxDEV("h3",{className:"text-lg font-medium text-red-300 mb-2",children:"Error Loading Dashboard"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:99,columnNumber:13},this),o.jsxDEV("p",{className:"text-red-200 mb-4",children:a},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:102,columnNumber:13},this),o.jsxDEV("button",{onClick:b,className:"btn-primary bg-red-600 hover:bg-red-700",children:"Retry"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:103,columnNumber:13},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:98,columnNumber:11},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:97,columnNumber:9},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:96,columnNumber:7},this):o.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900",children:[o.jsxDEV("header",{className:"bg-white/10 backdrop-blur-sm border-b border-white/20",children:o.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxDEV("div",{className:"flex justify-between items-center py-6",children:[o.jsxDEV("div",{className:"flex items-center",children:o.jsxDEV("div",{className:"flex-shrink-0",children:o.jsxDEV("h1",{className:"text-2xl font-bold text-white",children:"🚍 Admin Dashboard"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:123,columnNumber:17},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:122,columnNumber:15},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:121,columnNumber:13},this),o.jsxDEV("div",{className:"flex items-center space-x-4",children:[o.jsxDEV("span",{className:"text-sm text-white/80",children:["Welcome,"," ",f?.first_name||f?.full_name||f?.email]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:129,columnNumber:15},this),o.jsxDEV("button",{onClick:b,className:"btn-primary text-sm",disabled:s,children:s?"Refreshing...":"🔄 Refresh"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:135,columnNumber:15},this),o.jsxDEV("button",{onClick:async()=>{try{await u.signOut(),window.location.href="/"}catch(e){}},className:"btn-secondary text-sm",children:"Sign Out"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:142,columnNumber:15},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:128,columnNumber:13},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:120,columnNumber:11},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:119,columnNumber:9},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:118,columnNumber:7},this),o.jsxDEV("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxDEV("div",{className:"border-b border-white/20",children:o.jsxDEV("nav",{className:"-mb-px flex space-x-8",children:[o.jsxDEV("button",{onClick:()=>d("overview"),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 "+("overview"===m?"border-blue-400 text-blue-300":"border-transparent text-white/60 hover:text-white/80 hover:border-white/40"),children:"Overview"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:154,columnNumber:13},this),o.jsxDEV("button",{onClick:()=>d("analytics"),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 "+("analytics"===m?"border-blue-400 text-blue-300":"border-transparent text-white/60 hover:text-white/80 hover:border-white/40"),children:"Analytics"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:164,columnNumber:13},this),o.jsxDEV("button",{onClick:()=>d("management"),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 "+("management"===m?"border-blue-400 text-blue-300":"border-transparent text-white/60 hover:text-white/80 hover:border-white/40"),children:"Management"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:174,columnNumber:13},this),o.jsxDEV("button",{onClick:()=>d("media"),className:"py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 "+("media"===m?"border-blue-400 text-blue-300":"border-transparent text-white/60 hover:text-white/80 hover:border-white/40"),children:"Media"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:184,columnNumber:13},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:153,columnNumber:11},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:152,columnNumber:9},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:151,columnNumber:7},this),o.jsxDEV("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:["overview"===m&&o.jsxDEV("div",{className:"px-4 py-6 sm:px-0",children:[o.jsxDEV("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[o.jsxDEV("div",{className:"card-glass overflow-hidden",children:o.jsxDEV("div",{className:"p-5",children:o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV("div",{className:"flex-shrink-0",children:o.jsxDEV("div",{className:"w-8 h-8 bg-blue-500 rounded-md flex items-center justify-center",children:o.jsxDEV("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsxDEV("path",{d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:214,columnNumber:27},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:209,columnNumber:25},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:208,columnNumber:23},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:207,columnNumber:21},this),o.jsxDEV("div",{className:"ml-5 w-0 flex-1",children:o.jsxDEV("dl",{children:[o.jsxDEV("dt",{className:"text-sm font-medium text-white/70 truncate",children:"Total Buses"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:220,columnNumber:25},this),o.jsxDEV("dd",{className:"text-lg font-medium text-white",children:r?.buses||0},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:223,columnNumber:25},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:219,columnNumber:23},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:218,columnNumber:21},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:206,columnNumber:19},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:205,columnNumber:17},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:204,columnNumber:15},this),o.jsxDEV("div",{className:"card-glass overflow-hidden",children:o.jsxDEV("div",{className:"p-5",children:o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV("div",{className:"flex-shrink-0",children:o.jsxDEV("div",{className:"w-8 h-8 bg-green-500 rounded-md flex items-center justify-center",children:o.jsxDEV("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsxDEV("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:242,columnNumber:27},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:237,columnNumber:25},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:236,columnNumber:23},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:235,columnNumber:21},this),o.jsxDEV("div",{className:"ml-5 w-0 flex-1",children:o.jsxDEV("dl",{children:[o.jsxDEV("dt",{className:"text-sm font-medium text-white/70 truncate",children:"Total Routes"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:252,columnNumber:25},this),o.jsxDEV("dd",{className:"text-lg font-medium text-white",children:r?.routes||0},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:255,columnNumber:25},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:251,columnNumber:23},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:250,columnNumber:21},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:234,columnNumber:19},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:233,columnNumber:17},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:232,columnNumber:15},this),o.jsxDEV("div",{className:"card-glass overflow-hidden",children:o.jsxDEV("div",{className:"p-5",children:o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV("div",{className:"flex-shrink-0",children:o.jsxDEV("div",{className:"w-8 h-8 bg-yellow-500 rounded-md flex items-center justify-center",children:o.jsxDEV("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsxDEV("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:274,columnNumber:27},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:269,columnNumber:25},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:268,columnNumber:23},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:267,columnNumber:21},this),o.jsxDEV("div",{className:"ml-5 w-0 flex-1",children:o.jsxDEV("dl",{children:[o.jsxDEV("dt",{className:"text-sm font-medium text-white/70 truncate",children:"Total Drivers"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:280,columnNumber:25},this),o.jsxDEV("dd",{className:"text-lg font-medium text-white",children:r?.drivers||0},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:283,columnNumber:25},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:279,columnNumber:23},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:278,columnNumber:21},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:266,columnNumber:19},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:265,columnNumber:17},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:264,columnNumber:15},this),o.jsxDEV("div",{className:"card-glass overflow-hidden",children:o.jsxDEV("div",{className:"p-5",children:o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV("div",{className:"flex-shrink-0",children:o.jsxDEV("div",{className:"w-8 h-8 bg-purple-500 rounded-md flex items-center justify-center",children:o.jsxDEV("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:302,columnNumber:27},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:297,columnNumber:25},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:296,columnNumber:23},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:295,columnNumber:21},this),o.jsxDEV("div",{className:"ml-5 w-0 flex-1",children:o.jsxDEV("dl",{children:[o.jsxDEV("dt",{className:"text-sm font-medium text-white/70 truncate",children:"Recent Locations"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:312,columnNumber:25},this),o.jsxDEV("dd",{className:"text-lg font-medium text-white",children:r?.recentLocations||0},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:315,columnNumber:25},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:311,columnNumber:23},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:310,columnNumber:21},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:294,columnNumber:19},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:293,columnNumber:17},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:292,columnNumber:15},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:202,columnNumber:13},this),n&&o.jsxDEV("div",{className:"mt-8 grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3",children:[o.jsxDEV("div",{className:"card-glass overflow-hidden",children:o.jsxDEV("div",{className:"p-5",children:[o.jsxDEV("h3",{className:"text-lg font-medium text-white mb-4",children:"System Status"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:330,columnNumber:21},this),o.jsxDEV("div",{className:"space-y-3",children:[o.jsxDEV("div",{className:"flex justify-between",children:[o.jsxDEV("span",{className:"text-sm text-white/70",children:"Active Buses"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:335,columnNumber:25},this),o.jsxDEV("span",{className:"text-sm font-medium text-white",children:[n.activeBuses,"/",n.totalBuses]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:338,columnNumber:25},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:334,columnNumber:23},this),o.jsxDEV("div",{className:"flex justify-between",children:[o.jsxDEV("span",{className:"text-sm text-white/70",children:"Active Routes"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:343,columnNumber:25},this),o.jsxDEV("span",{className:"text-sm font-medium text-white",children:[n.activeRoutes,"/",n.totalRoutes]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:346,columnNumber:25},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:342,columnNumber:23},this),o.jsxDEV("div",{className:"flex justify-between",children:[o.jsxDEV("span",{className:"text-sm text-white/70",children:"Active Drivers"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:351,columnNumber:25},this),o.jsxDEV("span",{className:"text-sm font-medium text-white",children:[n.activeDrivers,"/",n.totalDrivers]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:354,columnNumber:25},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:350,columnNumber:23},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:333,columnNumber:21},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:329,columnNumber:19},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:328,columnNumber:17},this),o.jsxDEV("div",{className:"card-glass overflow-hidden",children:o.jsxDEV("div",{className:"p-5",children:[o.jsxDEV("h3",{className:"text-lg font-medium text-white mb-4",children:"Performance"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:364,columnNumber:21},this),o.jsxDEV("div",{className:"space-y-3",children:[o.jsxDEV("div",{className:"flex justify-between",children:[o.jsxDEV("span",{className:"text-sm text-white/70",children:"Average Delay"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:369,columnNumber:25},this),o.jsxDEV("span",{className:"text-sm font-medium text-white",children:[n.averageDelay.toFixed(1)," min"]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:372,columnNumber:25},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:368,columnNumber:23},this),o.jsxDEV("div",{className:"flex justify-between",children:[o.jsxDEV("span",{className:"text-sm text-white/70",children:"System Health"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:377,columnNumber:25},this),o.jsxDEV("span",{className:"text-sm font-medium text-green-400",children:"Good"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:380,columnNumber:25},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:376,columnNumber:23},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:367,columnNumber:21},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:363,columnNumber:19},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:362,columnNumber:17},this),o.jsxDEV("div",{className:"card-glass overflow-hidden",children:o.jsxDEV("div",{className:"p-5",children:[o.jsxDEV("h3",{className:"text-lg font-medium text-white mb-4",children:"Last Updated"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:390,columnNumber:21},this),o.jsxDEV("div",{className:"text-sm text-white/70",children:r?.timestamp?new Date(r.timestamp).toLocaleString():"N/A"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:393,columnNumber:21},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:389,columnNumber:19},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:388,columnNumber:17},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:327,columnNumber:15},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:201,columnNumber:11},this),"analytics"===m&&n&&o.jsxDEV("div",{className:"px-4 py-6 sm:px-0",children:o.jsxDEV("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[o.jsxDEV("div",{className:"card-glass p-6",children:[o.jsxDEV("h3",{className:"text-lg font-medium text-white mb-4",children:"System Statistics"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:410,columnNumber:17},this),o.jsxDEV("div",{className:"space-y-4",children:[o.jsxDEV("div",{className:"flex justify-between items-center p-3 bg-blue-500/20 rounded-lg border border-blue-400/30",children:[o.jsxDEV("span",{className:"text-blue-300 font-medium",children:"Active Buses"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:415,columnNumber:21},this),o.jsxDEV("span",{className:"text-2xl font-bold text-blue-200",children:n.activeBuses},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:418,columnNumber:21},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:414,columnNumber:19},this),o.jsxDEV("div",{className:"flex justify-between items-center p-3 bg-green-500/20 rounded-lg border border-green-400/30",children:[o.jsxDEV("span",{className:"text-green-300 font-medium",children:"Active Routes"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:423,columnNumber:21},this),o.jsxDEV("span",{className:"text-2xl font-bold text-green-200",children:n.activeRoutes},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:426,columnNumber:21},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:422,columnNumber:19},this),o.jsxDEV("div",{className:"flex justify-between items-center p-3 bg-yellow-500/20 rounded-lg border border-yellow-400/30",children:[o.jsxDEV("span",{className:"text-yellow-300 font-medium",children:"Active Drivers"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:431,columnNumber:21},this),o.jsxDEV("span",{className:"text-2xl font-bold text-yellow-200",children:n.activeDrivers},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:434,columnNumber:21},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:430,columnNumber:19},this),o.jsxDEV("div",{className:"flex justify-between items-center p-3 bg-purple-500/20 rounded-lg border border-purple-400/30",children:[o.jsxDEV("span",{className:"text-purple-300 font-medium",children:"Average Delay"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:439,columnNumber:21},this),o.jsxDEV("span",{className:"text-2xl font-bold text-purple-200",children:[n.averageDelay.toFixed(1)," min"]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:442,columnNumber:21},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:438,columnNumber:19},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:413,columnNumber:17},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:409,columnNumber:15},this),o.jsxDEV("div",{className:"card-glass p-6",children:[o.jsxDEV("h3",{className:"text-lg font-medium text-white mb-4",children:"System Distribution"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:451,columnNumber:17},this),o.jsxDEV("div",{className:"space-y-4",children:[o.jsxDEV("div",{className:"flex items-center justify-between",children:[o.jsxDEV("span",{className:"text-sm font-medium text-white/80",children:"Active Buses"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:456,columnNumber:21},this),o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV("div",{className:"w-32 bg-white/20 rounded-full h-2 mr-2",children:o.jsxDEV("div",{className:"bg-blue-400 h-2 rounded-full",style:{width:n.activeBuses/n.totalBuses*100+"%"}},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:461,columnNumber:25},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:460,columnNumber:23},this),o.jsxDEV("span",{className:"text-sm text-white/70",children:[n.activeBuses,"/",n.totalBuses]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:468,columnNumber:23},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:459,columnNumber:21},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:455,columnNumber:19},this),o.jsxDEV("div",{className:"flex items-center justify-between",children:[o.jsxDEV("span",{className:"text-sm font-medium text-white/80",children:"Active Routes"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:474,columnNumber:21},this),o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV("div",{className:"w-32 bg-white/20 rounded-full h-2 mr-2",children:o.jsxDEV("div",{className:"bg-green-400 h-2 rounded-full",style:{width:n.activeRoutes/n.totalRoutes*100+"%"}},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:479,columnNumber:25},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:478,columnNumber:23},this),o.jsxDEV("span",{className:"text-sm text-white/70",children:[n.activeRoutes,"/",n.totalRoutes]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:486,columnNumber:23},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:477,columnNumber:21},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:473,columnNumber:19},this),o.jsxDEV("div",{className:"flex items-center justify-between",children:[o.jsxDEV("span",{className:"text-sm font-medium text-white/80",children:"Active Drivers"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:492,columnNumber:21},this),o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV("div",{className:"w-32 bg-white/20 rounded-full h-2 mr-2",children:o.jsxDEV("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:n.activeDrivers/n.totalDrivers*100+"%"}},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:497,columnNumber:25},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:496,columnNumber:23},this),o.jsxDEV("span",{className:"text-sm text-white/70",children:[n.activeDrivers,"/",n.totalDrivers]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:504,columnNumber:23},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:495,columnNumber:21},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:491,columnNumber:19},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:454,columnNumber:17},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:450,columnNumber:15},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:407,columnNumber:13},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:406,columnNumber:11},this),"management"===m&&o.jsxDEV(h,{},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:516,columnNumber:40},this),"media"===m&&o.jsxDEV(B,{},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:519,columnNumber:35},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:199,columnNumber:7},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminDashboard.tsx",lineNumber:116,columnNumber:5},this)}},Symbol.toStringTag,{value:"Module"})),W=({children:e,variant:n="primary",size:t="md",className:r="",onClick:i,disabled:s=!1,loading:l=!1,icon:a,iconPosition:m="left"})=>o.jsxDEV(c.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:i,disabled:s||l,className:`\n        relative inline-flex items-center justify-center font-semibold rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-slate-900 disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden\n        ${{sm:"px-4 py-2 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-lg",xl:"px-10 py-5 text-xl"}[t]}\n        ${{primary:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white shadow-lg hover:shadow-xl hover:shadow-blue-500/25 focus:ring-blue-400",secondary:"bg-white/10 backdrop-blur-sm border border-white/20 text-white hover:bg-white/20 hover:border-white/30 shadow-lg hover:shadow-xl focus:ring-white/20",danger:"bg-gradient-to-r from-red-600 to-pink-600 hover:from-red-500 hover:to-pink-500 text-white shadow-lg hover:shadow-xl hover:shadow-red-500/25 focus:ring-red-400",ghost:"bg-transparent text-white hover:bg-white/10 border border-transparent hover:border-white/20 focus:ring-white/20",gradient:"bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 hover:from-purple-500 hover:via-pink-500 hover:to-red-500 text-white shadow-lg hover:shadow-xl hover:shadow-purple-500/25 focus:ring-purple-400"}[n]}\n        hover:-translate-y-0.5 active:translate-y-0\n        ${r}\n      `,children:[o.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-r from-white/10 via-transparent to-white/10 opacity-0 hover:opacity-100 transition-opacity duration-300"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/ui/PremiumButton.tsx",lineNumber:67,columnNumber:7},void 0),o.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full hover:translate-x-full transition-transform duration-700"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/ui/PremiumButton.tsx",lineNumber:70,columnNumber:7},void 0),o.jsxDEV("div",{className:"relative z-10 flex items-center gap-2",children:[l&&o.jsxDEV(c.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/ui/PremiumButton.tsx",lineNumber:75,columnNumber:11},void 0),a&&"left"===m&&!l&&o.jsxDEV("span",{className:"flex-shrink-0",children:a},void 0,!1,{fileName:"C:/College Project/frontend/src/components/ui/PremiumButton.tsx",lineNumber:83,columnNumber:11},void 0),o.jsxDEV("span",{children:e},void 0,!1,{fileName:"C:/College Project/frontend/src/components/ui/PremiumButton.tsx",lineNumber:86,columnNumber:9},void 0),a&&"right"===m&&!l&&o.jsxDEV("span",{className:"flex-shrink-0",children:a},void 0,!1,{fileName:"C:/College Project/frontend/src/components/ui/PremiumButton.tsx",lineNumber:89,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/ui/PremiumButton.tsx",lineNumber:73,columnNumber:7},void 0)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/ui/PremiumButton.tsx",lineNumber:53,columnNumber:5},void 0);const z=Object.freeze(Object.defineProperty({__proto__:null,default:function({onLoginSuccess:n}){const r=t(),{setTransition:i}=C(),[s,l]=e.useState(!1),[a,d]=e.useState(null),[b,N]=e.useState(""),[f,x]=e.useState(""),[h,g]=e.useState(""),[v,p]=e.useState(null),j=e.useCallback(()=>{i("login-to-dashboard"),setTimeout(()=>{n?n():r("/admin-dashboard",{replace:!0})},500)},[n,r,i]);return e.useEffect(()=>{setTimeout(async()=>{try{for(;!u.isInitialized();)await new Promise(e=>setTimeout(e,100));(await u.recoverSession()).success&&u.isAdmin()&&j()}catch(e){}},2e3)},[j]),o.jsxDEV("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 flex items-center justify-center p-4 relative overflow-hidden",children:[o.jsxDEV("div",{className:"absolute inset-0 overflow-hidden",children:[o.jsxDEV("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:166,columnNumber:9},this),o.jsxDEV("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-2000"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:167,columnNumber:9},this),o.jsxDEV("div",{className:"absolute top-40 left-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-blob animation-delay-4000"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:168,columnNumber:9},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:165,columnNumber:7},this),o.jsxDEV("div",{className:"absolute inset-0",children:[...Array(20)].map((e,n)=>o.jsxDEV(c.div,{className:"absolute w-1 h-1 bg-white/30 rounded-full",animate:{x:[0,100,0],y:[0,-100,0],opacity:[0,1,0]},transition:{duration:10*Math.random()+10,repeat:1/0,delay:5*Math.random()},style:{left:100*Math.random()+"%",top:100*Math.random()+"%"}},n,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:174,columnNumber:11},this))},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:172,columnNumber:7},this),o.jsxDEV(c.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},transition:{duration:.8,ease:[.4,0,.2,1]},className:"w-full max-w-md relative z-10",children:o.jsxDEV(A,{variant:"ultra",glow:!0,className:"p-8 relative",children:[o.jsxDEV(c.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"text-center mb-8",children:[o.jsxDEV("div",{className:"mx-auto h-16 w-16 flex items-center justify-center rounded-full bg-gradient-to-br from-purple-500 to-blue-500 mb-4 relative",children:[o.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-500 to-blue-500 rounded-full blur-lg opacity-50"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:210,columnNumber:15},this),o.jsxDEV("svg",{className:"h-8 w-8 text-white relative z-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:217,columnNumber:17},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:211,columnNumber:15},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:209,columnNumber:13},this),o.jsxDEV("h2",{className:"text-3xl font-bold bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Admin Login"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:225,columnNumber:13},this),o.jsxDEV("p",{className:"text-blue-200/80 mt-2 text-sm",children:"Access the administrative dashboard"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:228,columnNumber:13},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:203,columnNumber:11},this),o.jsxDEV(c.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4,duration:.6},onSubmit:async e=>{e.preventDefault(),l(!0),d(null),p(null);try{const e=new Promise((e,o)=>{setTimeout(()=>o(new Error("Login timeout")),5e3)}),o=u.signIn(b,f),n=await Promise.race([o,e]);n.success&&n.user?"admin"===n.user.role?(p("Login successful! Loading admin dashboard..."),setTimeout(()=>{j()},500)):(d("Access denied. Admin privileges required."),await u.signOut()):d(n.error||"Login failed. Please check your credentials.")}catch(o){o instanceof Error&&"Login timeout"===o.message?d("Login timed out. This might be due to slow network or profile loading. Please try again."):o instanceof Error&&o.message.includes("environment variables")?d("Configuration error. Please check your environment setup."):o instanceof Error&&o.message.includes("Profile loading timeout")?d("Profile loading is taking longer than expected. Please try again."):d("Network error. Please check your connection and try again.")}finally{l(!1)}},className:"space-y-6",children:[o.jsxDEV(c.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5,duration:.6},children:[o.jsxDEV("label",{htmlFor:"email",className:"block text-sm font-medium text-blue-200 mb-2",children:"Email Address"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:247,columnNumber:15},this),o.jsxDEV("div",{className:"relative",children:[o.jsxDEV("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:b,onChange:e=>N(e.target.value),className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white placeholder-blue-200/50 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-300",placeholder:"admin@university.edu",disabled:s},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:254,columnNumber:17},this),o.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-xl opacity-0 hover:opacity-100 transition-opacity duration-300 pointer-events-none"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:266,columnNumber:17},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:253,columnNumber:15},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:242,columnNumber:13},this),o.jsxDEV(c.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.6,duration:.6},children:[o.jsxDEV("label",{htmlFor:"password",className:"block text-sm font-medium text-blue-200 mb-2",children:"Password"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:276,columnNumber:15},this),o.jsxDEV("div",{className:"relative",children:[o.jsxDEV("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:f,onChange:e=>x(e.target.value),className:"w-full px-4 py-3 bg-white/10 backdrop-blur-sm border border-white/20 rounded-xl text-white placeholder-blue-200/50 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-300",placeholder:"••••••••",disabled:s},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:283,columnNumber:17},this),o.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-xl opacity-0 hover:opacity-100 transition-opacity duration-300 pointer-events-none"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:295,columnNumber:17},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:282,columnNumber:15},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:271,columnNumber:13},this),o.jsxDEV(c.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7,duration:.6},children:[o.jsxDEV("label",{htmlFor:"twoFactorCode",className:"block text-sm font-medium text-blue-200/80 mb-2",children:["2FA Code ",o.jsxDEV("span",{className:"text-blue-200/50",children:"(Optional)"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:309,columnNumber:26},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:305,columnNumber:15},this),o.jsxDEV("div",{className:"relative",children:[o.jsxDEV("input",{id:"twoFactorCode",name:"twoFactorCode",type:"text",autoComplete:"one-time-code",value:h,onChange:e=>g(e.target.value),className:"w-full px-4 py-3 bg-white/5 backdrop-blur-sm border border-white/10 rounded-xl text-white placeholder-blue-200/30 focus:outline-none focus:ring-2 focus:ring-blue-400/50 focus:border-transparent transition-all duration-300",placeholder:"Enter 2FA code if enabled",disabled:s},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:312,columnNumber:17},this),o.jsxDEV("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-purple-500/5 rounded-xl opacity-0 hover:opacity-100 transition-opacity duration-300 pointer-events-none"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:323,columnNumber:17},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:311,columnNumber:15},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:300,columnNumber:13},this),o.jsxDEV(m,{children:s&&o.jsxDEV(c.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"text-center",children:o.jsxDEV("div",{className:"inline-flex items-center px-4 py-2 text-sm text-blue-200 bg-blue-500/20 backdrop-blur-sm border border-blue-400/30 rounded-xl",children:[o.jsxDEV(c.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-blue-300/30 border-t-blue-300 rounded-full mr-3"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:337,columnNumber:21},this),"Signing in and loading profile..."]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:336,columnNumber:19},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:330,columnNumber:17},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:328,columnNumber:13},this),o.jsxDEV(m,{children:a&&o.jsxDEV(c.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"bg-red-500/20 backdrop-blur-sm border border-red-400/30 rounded-xl p-4",children:o.jsxDEV("div",{className:"flex",children:[o.jsxDEV("div",{className:"flex-shrink-0",children:o.jsxDEV("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:368,columnNumber:25},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:363,columnNumber:23},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:362,columnNumber:21},this),o.jsxDEV("div",{className:"ml-3",children:[o.jsxDEV("h3",{className:"text-sm font-medium text-red-300",children:"Login Error"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:376,columnNumber:23},this),o.jsxDEV("p",{className:"text-sm text-red-200 mt-1",children:a},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:379,columnNumber:23},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:375,columnNumber:21},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:361,columnNumber:19},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:355,columnNumber:17},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:353,columnNumber:13},this),o.jsxDEV(m,{children:v&&o.jsxDEV(c.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"bg-green-500/20 backdrop-blur-sm border border-green-400/30 rounded-xl p-4",children:o.jsxDEV("div",{className:"flex",children:[o.jsxDEV("div",{className:"flex-shrink-0",children:o.jsxDEV("svg",{className:"h-5 w-5 text-green-400",viewBox:"0 0 20 20",fill:"currentColor",children:o.jsxDEV("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:402,columnNumber:25},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:397,columnNumber:23},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:396,columnNumber:21},this),o.jsxDEV("div",{className:"ml-3",children:[o.jsxDEV("h3",{className:"text-sm font-medium text-green-300",children:"Success"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:410,columnNumber:23},this),o.jsxDEV("p",{className:"text-sm text-green-200 mt-1",children:v},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:413,columnNumber:23},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:409,columnNumber:21},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:395,columnNumber:19},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:389,columnNumber:17},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:387,columnNumber:13},this),o.jsxDEV(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},children:o.jsxDEV(W,{variant:"gradient",size:"lg",className:"w-full relative group",disabled:s,loading:s,icon:o.jsxDEV("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:439,columnNumber:21},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:433,columnNumber:19},this),children:s?"Signing In...":"Admin Login"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:426,columnNumber:15},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:421,columnNumber:13},this),o.jsxDEV(c.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9,duration:.6},className:"text-center space-y-3",children:[o.jsxDEV("div",{className:"flex flex-col sm:flex-row gap-2 justify-center text-xs",children:[o.jsxDEV("button",{type:"button",onClick:async()=>{l(!0),d(null);try{(await u.recoverSession()).success&&u.isAdmin()?(p("Session recovered! Redirecting..."),setTimeout(()=>{j()},1e3)):d("No valid session found. Please log in again.")}catch(e){d("Session recovery failed. Please log in again.")}finally{l(!1)}},disabled:s,className:"text-blue-300 hover:text-blue-200 underline transition-colors duration-200",children:"Recover Session"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:460,columnNumber:17},this),o.jsxDEV("span",{className:"hidden sm:inline text-blue-200/50",children:"•"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:468,columnNumber:17},this),o.jsxDEV("button",{type:"button",onClick:async()=>{l(!0),d(null);try{await u.forceFreshLogin(),p("Session cleared. Please log in again with your credentials.")}catch(e){d("Failed to clear session.")}finally{l(!1)}},disabled:s,className:"text-red-300 hover:text-red-200 underline transition-colors duration-200",children:"Force Fresh Login"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:469,columnNumber:17},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:459,columnNumber:15},this),o.jsxDEV("div",{className:"text-xs text-blue-200/50 space-y-1",children:[o.jsxDEV("p",{children:"Enter your admin credentials to access the system"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:480,columnNumber:17},this),o.jsxDEV("p",{children:"Using Supabase Authentication"},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:481,columnNumber:17},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:479,columnNumber:15},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:453,columnNumber:13},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:234,columnNumber:11},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:201,columnNumber:9},this)},void 0,!1,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:195,columnNumber:7},this)]},void 0,!0,{fileName:"C:/College Project/frontend/src/components/AdminLogin.tsx",lineNumber:163,columnNumber:5},this)}},Symbol.toStringTag,{value:"Module"})),_=({children:e,className:n=""})=>o.jsxDEV(c.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},className:n,children:e},void 0,!1,{fileName:"C:/College Project/frontend/src/components/PageTransition.tsx",lineNumber:100,columnNumber:5},void 0),O=({children:e,className:n=""})=>o.jsxDEV(c.div,{variants:{hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},transition:{duration:.4,ease:[.4,0,.2,1]},className:n,children:e},void 0,!1,{fileName:"C:/College Project/frontend/src/components/PageTransition.tsx",lineNumber:124,columnNumber:5},void 0);export{R as A,L as C,k as D,g as E,A as G,T as M,P as N,_ as S,p as T,F as V,V as a,O as b,E as c,z as d,C as u,S as v};
